<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>detail produit</title>
    <!-- Lien vers le CSS de Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="" />
    <style>
      .btn-contact.disabled {
        opacity: 0.6;
        cursor: not-allowed;
        background-color: #6c757d;
      }
      #link_vend.disabled {
        opacity: 0.6;
        cursor: not-allowed;
        color: #6c757d;
        text-decoration: none;
      }

      .alertContainerDetail {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
      }
      .thumbnail-container {
        scrollbar-width: thin;
        scrollbar-color: #888 #f1f1f1;
      }

      .thumbnail-container::-webkit-scrollbar {
        height: 6px;
      }

      .thumbnail-container::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      .thumbnail-container::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 3px;
      }

      .thumbnail-img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid transparent;
        transition: border-color 0.2s;
      }
      .carousel-control-next,
      .carousel-control-prev {
        background: #ffffff00 !important;
      }
      .thumbnail-img.active {
        border-color: #0d6efd;
      }

      .carousel-inner {
        max-height: 400px;
        overflow: hidden;
      }

      .carousel-item img {
        width: 100%;
        height: 350px;
        object-fit: contain;
        background-color: #ffffff00;
      }

      .thumbnail-container {
        max-width: 100%;
        overflow-x: auto;
        padding: 10px 0;
        width: 100%;
        margin-top: 1rem;
      }

      .thumbnail-img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid transparent;
        transition: border-color 0.2s;
        margin-right: 5px;
        flex-shrink: 0;
      }

      #productCarousel {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
      }

      .product-image-container {
        width: 66%;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100%; /* Ajout pour prendre toute la hauteur */
      }

      .product-description-container {
        width: 33%;
        padding: 1rem;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        height: 100%; /* Ajout pour prendre toute la hauteur */
      }

      /* Style pour la barre de défilement de la description */
      .product-description-container::-webkit-scrollbar,
      .product-description-content::-webkit-scrollbar {
        width: 4px;
      }

      .product-description-container::-webkit-scrollbar-track,
      .product-description-content::-webkit-scrollbar-track {
        background: transparent;
      }

      .product-description-container::-webkit-scrollbar-thumb,
      .product-description-content::-webkit-scrollbar-thumb {
        background: rgba(136, 136, 136, 0.5);
        border-radius: 10px;
      }

      .product-description-container::-webkit-scrollbar-thumb:hover,
      .product-description-content::-webkit-scrollbar-thumb:hover {
        background: rgba(85, 85, 85, 0.8);
      }

      /* Cacher les flèches du scroll */
      .product-description-container,
      .product-description-content {
        scrollbar-width: thin;
        scrollbar-color: rgba(136, 136, 136, 0.5) transparent;
      }

      /* Cacher les flèches sur Chrome, Safari et les navigateurs modernes */
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      /* Firefox */
      input[type="number"] {
        -moz-appearance: textfield;
      }

      .product-description-container {
        scrollbar-width: thin;
        scrollbar-color: #888 #f1f1f1;
      }

      /* Ajustement pour le contenu de la description */
      .product-description-content {
        flex: 1;
        overflow-y: auto;
      }

      .product-header {
        flex-shrink: 0; /* Empêche le header de se réduire */
        margin-bottom: 1rem;
      }
      .product-description-content::-webkit-scrollbar {
        display: none;
      }
      .product-description-content {
        flex: 1;
        overflow-y: auto;
        padding-right: 10px;
        margin-top: 10px;
        padding-top: 10px;
        max-height: 100%;
      }

      /* Style unifié pour toutes les barres de défilement */
      .thumbnail-container::-webkit-scrollbar,
      .product-description-content::-webkit-scrollbar {
        height: 4px; /* Pour scrollbar horizontale */
        width: 4px; /* Pour scrollbar verticale */
      }

      .thumbnail-container::-webkit-scrollbar-track,
      .product-description-content::-webkit-scrollbar-track {
        background: transparent;
      }

      .thumbnail-container::-webkit-scrollbar-thumb,
      .product-description-content::-webkit-scrollbar-thumb {
        background: rgba(136, 136, 136, 0.5);
        border-radius: 10px;
      }

      .thumbnail-container::-webkit-scrollbar-thumb:hover,
      .product-description-content::-webkit-scrollbar-thumb:hover {
        background: rgba(85, 85, 85, 0.8);
      }

      /* Style pour Firefox */
      .thumbnail-container,
      .product-description-content {
        scrollbar-width: thin;
        scrollbar-color: rgba(136, 136, 136, 0.5) transparent;
      }

      /* Suppression des styles existants en doublon */
      .thumbnail-container {
        max-width: 100%;
        overflow-x: auto;
        padding: 10px 0;
        width: 100%;
        margin-top: 1rem;
      }
    </style>
  </head>
  <body>
    <div id="navContainer"></div>

    <div class="container mt-5">
      <div id="alertContainerDetail"></div>
      <div class="row d-flex align-items-stretch mb-3">
        <!-- Card 1: Image, Description, Prix (75% de la largeur) -->
        <div class="col-12 col-md-9 mb-4 d-flex">
          <div class="card mb-4 w-100 d-flex flex-row" style="height: 76vh">
            <!-- Image section (66%) -->
            <div class="product-image-container">
              <div id="productCarousel" class="carousel slide">
                <div class="carousel-inner" id="carouselInner">
                  <!-- Les images seront injectées ici par JavaScript -->
                </div>
                <button
                  class="carousel-control-prev"
                  type="button"
                  data-bs-target="#productCarousel"
                  data-bs-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button
                  class="carousel-control-next"
                  type="button"
                  data-bs-target="#productCarousel"
                  data-bs-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>

              <!-- Miniatures -->
              <div class="thumbnail-container">
                <div id="thumbnailsRow" class="d-flex">
                  <!-- Les miniatures seront injectées ici par JavaScript -->
                </div>
              </div>
            </div>

            <!-- Description et Prix (33%) -->
            <div class="product-description-container">
              <!-- Titre et prix fixes en haut -->
              <div class="product-header mb-3">
                <h4 class="card-title mb-3"><span id="titleProduit"></span></h4>
                <h5 class="card-text mb-3">
                  <strong>Prix: </strong><span id="prixProduit"></span> $
                </h5>
              </div>
              <!-- Description avec défilement -->
              <div class="product-description-content">
                <p class="card-text"><span id="descriptionProduit"></span></p>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 2: Quantité, Ajouter au Panier, Acheter Maintenant, Nom du Vendeur (25% de la largeur) -->
        <div class="col-md-3 mb-4 d-flex">
          <div class="card mb-4 w-100" style="height: 76vh">
            <div class="card-body">
              <p class="card-text">
                <strong>Prix: </strong><span id="prixProduit2"> $</span>
              </p>

              <!-- Sélection de la quantité -->
              <div class="mb-3">
                <label for="quantity">Quantité :</label>
                <input
                  id="quantity"
                  type="number"
                  class="form-control w-50"
                  value="1"
                  min="1"
                />
              </div>
              <div id="stock"></div>

              <!-- Boutons Ajouter au Panier et Acheter Maintenant -->
              <div class="mb-3">
                <button id="ajoutePanier" class="btn btn-primary mb-2">
                  Ajouter au panier</button
                ><br />
                <button id="acheterMaintenant" class="btn btn-warning">
                  Acheter maintenant
                </button>
              </div>

              <!-- Nom du vendeur et Contact -->
              <p>
                <strong>Vendeur: </strong>
                <span id="nomVendeur"></span>
                <span id="vendeurVerifie" class="badge bg-success ms-1"></span>
              </p>
              <button class="btn btn-secondary">
                <a id="link_vend" onclick="contactVendeur()"
                  >Contacter le vendeur</a
                >
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- Card Avis Utilisateur -->
      <div class="card mb-4">
        <div class="card-header">
          <h5>Notes et Commentaires <span id="reviewCount"></span></h5>
        </div>
        <div id="cardReview"></div>
      </div>
    </div>
    <div
      class="modal fade"
      id="imageModal"
      tabindex="-1"
      aria-labelledby="imageModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="imageModalLabel">Image Agrandie</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <img
              id="imgProduitModal"
              src=""
              class="img-fluid"
              alt=""
              width="1500"
            />
          </div>
        </div>
      </div>
    </div>
    <!-- Script JS de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/scipt/managePanier.js"></script>
    <script src="../assets/scipt/navbar-init.js"></script>
    <script src="../assets/scipt/detail_produit.js"></script>
  </body>
</html>
